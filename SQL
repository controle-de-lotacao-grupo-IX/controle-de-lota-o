CREATE DATABASE CONTROLE_LOTACAO
ON PRIMARY(
NAME = CONTROLE_LOTACAO,
FILENAME = 'C:\SQL\controle_lotacao.MDF',
SIZE = 5MB,
MAXSIZE = 15MB,
FILEGROWTH = 10%
);
GO
USE CONTROLE_LOTACAO;
GO

CREATE TABLE ESTABELECIMENTO(
id INT NOT NULL PRIMARY KEY IDENTITY,
nome VARCHAR(40) NOT NULL,
cnpj CHAR(14),
cep CHAR(8) NOT NULL,
num_endereco INT NOT NULL,
capacidade INT NOT NULL,
);

GO

CREATE TABLE CLIENTE(
id INT NOT NULL PRIMARY KEY IDENTITY,
nome VARCHAR(30) NOT NULL,
cpf VARCHAR(11),
email VARCHAR(30) NOT NULL
);

GO

CREATE TABLE VISITA(
id INT NOT NULL PRIMARY KEY IDENTITY,
data_visita DATE NOT NULL,
id_estabelecimento INT NOT NULL FOREIGN KEY REFERENCES ESTABELECIMENTO(id),
id_cliente INT NOT NULL FOREIGN KEY REFERENCES CLIENTE(id)
);
GO
